<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <!-- favicon -->
    <link rel="shortcut icon" href="../assests/express.ico" type="image/x-icon" />
    <!-- prism.css -->
    <link rel="stylesheet" href="../prismScript/prism.css" />
    <!-- custome css -->
    <link rel="stylesheet" href="../style/style.css" />
    <!-- custome css -->
    <link rel="stylesheet" href="../style/responstyle.css" />
    <!-- custome css -->
    <link rel="stylesheet" href="../button.css" />
    <title>express-CheetSheet</title>
</head>

<body oncontextmenu="return false">
    <!-- title -->
    <h1 class="title"><span class="spantitle">Express.js </span> Code Snippits</h1>
    <!-- container -->
    <div class="main-container">
        <div class="container">
            <ol class="list">
                <h3 class="listtitle">What is Express.js</h3>
                <p class="titledescription">
                    Express.js, or simply Express, is a back end web application framework for building RESTful APIs
                    with Node.js, released as free and open-source software under the MIT License. It is designed for
                    building web applications and APIs. It has been called the de facto standard server framework for
                    Node.js
                </p>
                <!-- Quick start -->
                <h3 class="listtitle">Express Set-up</h3>
                <!-- Down link -->
                <li class="rar">
                    &rarr;
                    <a href="https://www.npmjs.com/package/express" class="linkslist" target="_blank">Click Here To
                        Download</a>
                </li>
                <p class="titledescription">
                    &rarr; Or Type this command in your project Terminal
                </p>
                <li class="links">
                    <pre class="language-js"><code>
npm i express
</code></pre>
                </li>
                <!-- server -->
                <h3 class="listtitle">Creating A server With express.js</h3>
                <li class="links">
                    <pre class="language-js"><code>
import express from "express";//import from node
const app = express();//initilize in a variable 
const PORT = 8000;
app.listen(PORT, () => {
    console.log(`server is running on ${PORT}`);
});
</code></pre>
                </li>
                <h3 class="listtitle">Creating A Responsive server With express.js</h3>
                <li class="links">
                    <pre class="language-js"><code>
import express from "express";//import from node
const app = express();//initilize in a variable 
const PORT = 8000;
app.get("/", (req, res)=>{
    res.send("Hellow!! Welcome to home page");
})
app.get("/about", (req, res)=>{
    res.send("Hellow!! Welcome to avout page");
})
app.get("/contact", (req, res)=>{
    res.send("Hellow!! Welcome to contact page");
})
app.get("/services", (req, res)=>{
    res.send("Hellow!! Welcome to services page");
})
app.get("*", (req, res)=>{
    res.send("Hellow!! page not found");
})
app.listen(PORT, () => {
    console.log(`server is running on ${PORT}`);
});
</code></pre>
                </li>
                <!-- CRUD OPERATIONS -->
                <h3 class="listtitle"> C &nbsp; R &nbsp; U &nbsp; D &rarr; Operations </h3>
                <p class="titledescription">
                    <span>CRUD</span> &rarr; Define as <br> CREATE <br> READ <br> UPDATE <br> DELETE
                </p>
                <p class="titledescription">
                    <span>Rest-API</span> &rarr; Define as <br> POST <br> GET <br> PUT <br> DELETE
                </p>
                <!-- Define path in es6 modules -->
                <h3 class="listtitle"> Define path in ES6 modules</h3>
                <li class="links">
                    <pre class="language-js"><code>
import express from "express";
import path from "path";
import { fileURLToPath } from "url";

// Define file and directory name 
const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

// And then you could use __dirname and __filename in ES6 
</code></pre>
                </li>
                <!-- body parser -->
                <h3 class="listtitle"> Body Parser for Accessing data From body</h3>
                <p class="titledescription">
                    Node.js body parsing middleware.
                    Parse incoming request bodies in a middleware before your handlers, available under the req.body
                    property
                    <br>
                    <br>
                    <a href="http://expressjs.com/en/resources/middleware/body-parser.html" class="linkslist"
                        target="_blank">&rarr; Click Here To Know More</a>
                </p>
                <li class="links">
                    <pre class="language-js"><code>
npm install body-parser
</code></pre>
                </li>
                <p class="titledescription">
                    Use of a middleware in express.js
                </p>
                <li class="links">
                    <pre class="language-js"><code>
import bodyParser from "body-parser"

// define middlware
app.use(bodyParser.urlencoded({extended:false}));
</code></pre>
                </li>
                <!-- express.json() -->
                <h3 class="listtitle">express.json()</h3>
                <p class="titledescription">
                    function is a built-in middleware function in Express. It parses incoming requests with JSON
                    payloads and is based on body-parser.
                </p>
                <p class="titledescription">
                    Use of a middleware in express.js
                </p>
                <li class="links">
                    <pre class="language-js"><code>
app.use(express.json());
</code></pre>
                </li>
                <!-- Example for post data -->
                <h3 class="listtitle">Post method Example </h3>
                <li class="links">
                    <pre class="language-js"><code>
import express from "express";
import path from "path";
import { fileURLToPath } from "url";
import bodyParser from "body-parser";

// Always put on top  
const app = express();

// file and directory name 
const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

const PORT = 8000;
const hostName = "localhost";

//define middlware
app.use(bodyParser.urlencoded({extended:false}));

app.post("/api/v1/register", (req, res) => {
  res.send(`<h1>Form Submitted Mr. ${req.body.name}</h1>`);
  console.log(req.body);
});

app.listen(PORT, () => {
    console.log(`server is running on http://${hostName}:${PORT}`);
});
</code></pre>
                </li>
                <!-- Api -->
                <h3 class="listtitle">What is API</h3>
                <P class="titledescription"> <span>API</span> &rarr; Application Programming Interface <br>
                    In the context of APIs, the word Application refers to any software with a distinct function.
                    Interface can be thought of as a contract of service between two Application
                </P>
                <h3 class="listtitle">What is REST API</h3>
                <P class="titledescription"> <span>REST API</span> &rarr; Representational State Transfer <br>
                    is an API that defines a set of function that programers can use to send request and recive
                    responses using the HTTP protocol methods such as GET and POST
                </P>
                <!-- making a post request Api With Express.js -->
                <h3 class="listtitle">Making a API for post Data</h3>
                <p class="titledescription">
                    It is a Example for How to save Data With the Api Eg. [ <strong>without Database </strong>]
                </p>
                <!-- codes -->
                <li class="links">
                    <pre class="language-js"><code>
import express from "express";
import path from "path";
import { fileURLToPath } from "url";
import bodyParser from "body-parser";

// TOP
const app = express();

// define middlware
app.use(bodyParser.urlencoded({extended:false}));

//The express.json() function is a built-in middleware function in Express. 
//It parses incoming requests with JSON payloads and is based on body-parser. 
app.use(express.json());  


// FILE AND DIR NAME
const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

// cerating a server
const PORT = 5000;
const hostNmae = "localhost";

// sending response
app.get("/login", (req, res)=>{
    res.sendFile(path.join(__dirname + "/index.html"));
    console.log(path.join(__dirname + "/index.html"));
})

// sending json DATA
app.get("/", (req, res)=>{
  res.sendFile(path.join(__dirname + "/index.html"));
  console.log(path.join(__dirname + './index.html'));
})


// post Data
app.post("/api/v1/register", (req, res)=>{
    const username = req.body.name;
    const useremail = req.body.email;
    const userpassword = req.body.password;

    res.json({
        success:true,
        // name:username,
        // email:useremail,
        // password:userpassword
    })
    console.log(req.body);
})

app.listen(PORT, ()=>{
    console.log(`server is running on port http://${hostNmae}:${PORT}`);
})
</code></pre>
                </li>
                <!-- Routing -->
                <h3 class="listtitle">Routing</h3>
                <p class="titledescription">Routing Helps to Organize Api's
                    <a href="https://expressjs.com/en/guide/routing.html" class="linkslist" target="_blank">&rarr; Click
                        Here To Know More</a>
                </p>
                <!-- codes example -->
                <h3 class="listtitle">create a file name you wants</h3>
                <p class="titledescription">Here i created <strong>usercontrol.mjs</strong> And the simply makes a
                    function of your requests</p>
                <li class="links">
                    <pre class="language-js"><code>
export default function registerUser(req, res){
const username = req.body.name;
const useremail = req.body.email;
const userpassword = req.body.password;
res.json({
success:true,
// name:username,
// email:useremail,
// password:userpassword
})
console.log(req.body);
}
</code></pre>
                </li>
                <!-- makes a routing file -->
                <h3 class="listtitle">Make a file for Routing</h3>
                <p class="titledescription">Here First we have to Import router from express Then Follows these Steps
                </p>
                <li class="links">
                    <pre class="language-js"><code>
import express from "express";
//import userRegister from another file
import userRegister from "./usercontrol.mjs"
const router = express.Router();
router.route("/api/v1/register").post(userRegister);
export default  router;
</code></pre>
                </li>
                <!-- merging all these files to makes Api CALL  -->
                <h3 class="listtitle">Making a API'S Call</h3>
                <p class="titledescription">Here's we Merge All file to Makes a API's Call</p>
                <br>
                <h3 class="listtitle">For using router we have to import it in the main file And use it as a
                    <strong>middleware</strong></h3>
                <li class="links">
                    <pre class="language-js"><code>
// import from the router file                        
import router from "./userRoutes.mjs";

// implementing router
app.use(router);
</code></pre>
                </li>
                <!-- now merging all codes  -->
                <h3 class="listtitle">merging all files</h3>
                <li class="links">
                    <pre class="language-js"><code>
import express from "express";
import path from "path";
import { fileURLToPath } from "url"; // import from url
import bodyParser from "body-parser"; // download from npm
import router from "./userRoutes.mjs"; //import router

// TOP
const app = express();

// define middlware
app.use(bodyParser.urlencoded({extended:false}));

//The express.json() function is a built-in middleware function in Express. 
//It parses incoming requests with JSON payloads and is based on body-parser. 
app.use(express.json());  


// using imported router
app.use(router);

// FILE AND DIR NAME
const __filename = fileURLToPath(import.meta.url);
const __dirname = path.dirname(__filename);

// cerating a server
const PORT = 5000;
const hostNmae = "localhost";

// sending file
app.get("/", (req, res)=>{
  res.sendFile(path.join(__dirname + "/index.html"));
})


// post Data
app.post("/api/v1/register",)

app.listen(PORT, ()=>{
    console.log(`server is running on port http://${hostNmae}:${PORT}`);
})
</code></pre>
                </li>
                <button class="glow-on-hover" type="button"><a href="../index.html">Home Page</a></button>
            </ol>
        </div>
    </div>
</body>
<!-- prism.js -->
<script src="../prismScript/prism.js"></script>

</html>